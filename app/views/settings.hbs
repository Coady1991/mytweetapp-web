{{> mainmenu _id="settings" }}

<section class="ui raised segment">
  <div class="ui two column basic middle aligned grid segment">
    <div class="column">
      <form class="ui stacked segment form" action="/settings" method="POST">
        <h3 class="ui header">Settings</h3>
        <div class="two fields">
          <div class="field">
            <label>First Name</label>
            <input value="{{user.firstName}}" type="text" name="firstName">
          </div>
          <div class="field">
            <label>Last Name</label>
            <input value="{{user.lastName}}" type="text" name="lastName">
          </div>
        </div>
        <div class="field">
          <label>Email</label>
          <input value="{{user.email}}" type="text" name="email">
        </div>
        <div class="field">
          <label>Password</label>
          <input value="{{user.password}}" type="password" name="password">
        </div>
        <button class="ui blue submit button">Save</button>
      </form>
      {{> formerror }}
    </div>

    <div class="column">
      {{#if user.picture.data}}
        <div class="image">
          <img id="pic" src="/getProfilePicture/{{user.id}}" height="250" width="300" />
        </div>
      {{else}}
        <img class="ui medium centered image" src="images/no-img.png"/>
      {{/if}}

      <form action="/profilePicture" enctype="multipart/form-data" method="POST">
        <input type="file" name="picture" onchange="readURL(this);">
        <button class="ui blue submit button">Save</button>
      </form>
    </div>

  </div>

</section>

<!-- https://stackoverflow.com/questions/12368910/html-display-image-after-selecting-filename -->
<script src="js/displayimage.js"></script>